2025-08-13 10:09:10,218 - src.utils.logger - INFO - Logging configured with level: INFO
2025-08-13 10:09:10,219 - __main__ - INFO - Configuration loaded successfully
2025-08-13 10:09:10,219 - src.core.orchestrator - INFO - Initializing Multi-Agent Orchestrator...
2025-08-13 10:09:10,220 - src.core.database - INFO - Database tables created successfully
2025-08-13 10:09:10,220 - src.core.database - INFO - Database initialized: data/automation.db
2025-08-13 10:09:10,286 - src.core.vector_store - INFO - Collection 'workflow_plans' initialized
2025-08-13 10:09:10,287 - src.core.vector_store - INFO - Collection 'execution_patterns' initialized
2025-08-13 10:09:10,288 - src.core.vector_store - INFO - Collection 'conversations' initialized
2025-08-13 10:09:10,288 - src.core.vector_store - INFO - Collection 'task_templates' initialized
2025-08-13 10:09:10,289 - src.core.vector_store - INFO - Collection 'failure_patterns' initialized
2025-08-13 10:09:10,289 - src.core.vector_store - INFO - Initialized 5 collections
2025-08-13 10:09:10,289 - src.core.vector_store - INFO - Vector store initialized: data/vector_db
2025-08-13 10:09:10,289 - src.core.audit - INFO - Audit logging system initialized: data/audit.db
2025-08-13 10:09:10,289 - src.core.ai_provider - INFO - Initializing AI providers...
2025-08-13 10:09:10,290 - src.core.ai_provider - WARNING - Failed to initialize Local LLM: Local LLM connection failed: Cannot connect to host 127.0.0.1:1234 ssl:default [Connect call failed ('127.0.0.1', 1234)]
2025-08-13 10:09:10,290 - src.core.ai_provider - INFO - AI providers initialized. Available: []
2025-08-13 10:09:10,290 - src.agents.planner - INFO - Planner Agent initialized
2025-08-13 10:09:10,290 - src.utils.media_capture - INFO - Media capture initialized: data/media
2025-08-13 10:09:10,290 - src.utils.selector_drift - INFO - Selector drift detector initialized
2025-08-13 10:09:10,568 - src.agents.executor - INFO - Browser initialized: chromium
2025-08-13 10:09:10,568 - src.agents.executor - INFO - Execution agent initialized successfully
2025-08-13 10:09:10,568 - src.utils.media_capture - INFO - Media capture initialized: data/media
2025-08-13 10:09:10,568 - src.utils.selector_drift - INFO - Selector drift detector initialized
2025-08-13 10:09:10,834 - src.agents.executor - INFO - Browser initialized: chromium
2025-08-13 10:09:10,834 - src.agents.executor - INFO - Execution agent initialized successfully
2025-08-13 10:09:10,834 - src.utils.media_capture - INFO - Media capture initialized: data/media
2025-08-13 10:09:10,834 - src.utils.selector_drift - INFO - Selector drift detector initialized
2025-08-13 10:09:11,102 - src.agents.executor - INFO - Browser initialized: chromium
2025-08-13 10:09:11,102 - src.agents.executor - INFO - Execution agent initialized successfully
2025-08-13 10:09:11,102 - src.core.ai_provider - INFO - Initializing AI providers...
2025-08-13 10:09:11,102 - src.core.ai_provider - WARNING - Failed to initialize Local LLM: Local LLM connection failed: Cannot connect to host 127.0.0.1:1234 ssl:default [Connect call failed ('127.0.0.1', 1234)]
2025-08-13 10:09:11,102 - src.core.ai_provider - INFO - AI providers initialized. Available: []
2025-08-13 10:09:11,104 - src.core.vector_store - INFO - Collection 'workflow_plans' initialized
2025-08-13 10:09:11,105 - src.core.vector_store - INFO - Collection 'execution_patterns' initialized
2025-08-13 10:09:11,106 - src.core.vector_store - INFO - Collection 'conversations' initialized
2025-08-13 10:09:11,106 - src.core.vector_store - INFO - Collection 'task_templates' initialized
2025-08-13 10:09:11,107 - src.core.vector_store - INFO - Collection 'failure_patterns' initialized
2025-08-13 10:09:11,107 - src.core.vector_store - INFO - Initialized 5 collections
2025-08-13 10:09:11,107 - src.core.vector_store - INFO - Vector store initialized: data/vector_db
2025-08-13 10:09:11,107 - src.core.audit - INFO - Audit logging system initialized: data/audit.db
2025-08-13 10:09:11,107 - src.agents.conversational - INFO - Conversational agent initialized successfully
2025-08-13 10:09:11,107 - src.agents.search - INFO - Search agent initialized successfully
2025-08-13 10:09:11,107 - src.agents.dom_extractor - INFO - DOM extraction agent initialized successfully
2025-08-13 10:09:11,108 - src.core.orchestrator - INFO - Multi-Agent Orchestrator initialized successfully
2025-08-13 10:09:11,109 - __main__ - INFO - Multi-agent orchestrator initialized
2025-08-13 10:09:11,109 - __main__ - INFO - Starting API server...
INFO:     Started server process [234226]
INFO:     Waiting for application startup.
2025-08-13 10:09:11,133 - src.core.orchestrator - INFO - Initializing Multi-Agent Orchestrator...
2025-08-13 10:09:11,133 - src.core.database - INFO - Database tables created successfully
2025-08-13 10:09:11,133 - src.core.database - INFO - Database initialized: data/automation.db
2025-08-13 10:09:11,135 - src.core.vector_store - INFO - Collection 'workflow_plans' initialized
2025-08-13 10:09:11,136 - src.core.vector_store - INFO - Collection 'execution_patterns' initialized
2025-08-13 10:09:11,136 - src.core.vector_store - INFO - Collection 'conversations' initialized
2025-08-13 10:09:11,137 - src.core.vector_store - INFO - Collection 'task_templates' initialized
2025-08-13 10:09:11,137 - src.core.vector_store - INFO - Collection 'failure_patterns' initialized
2025-08-13 10:09:11,137 - src.core.vector_store - INFO - Initialized 5 collections
2025-08-13 10:09:11,137 - src.core.vector_store - INFO - Vector store initialized: data/vector_db
2025-08-13 10:09:11,138 - src.core.audit - INFO - Audit logging system initialized: data/audit.db
2025-08-13 10:09:11,138 - src.core.ai_provider - INFO - Initializing AI providers...
2025-08-13 10:09:11,139 - src.core.ai_provider - WARNING - Failed to initialize Local LLM: Local LLM connection failed: Cannot connect to host 127.0.0.1:1234 ssl:default [Connect call failed ('127.0.0.1', 1234)]
2025-08-13 10:09:11,139 - src.core.ai_provider - INFO - AI providers initialized. Available: []
2025-08-13 10:09:11,139 - src.agents.planner - INFO - Planner Agent initialized
2025-08-13 10:09:11,139 - src.utils.media_capture - INFO - Media capture initialized: data/media
2025-08-13 10:09:11,139 - src.utils.selector_drift - INFO - Selector drift detector initialized
2025-08-13 10:09:11,425 - src.agents.executor - INFO - Browser initialized: chromium
2025-08-13 10:09:11,426 - src.agents.executor - INFO - Execution agent initialized successfully
2025-08-13 10:09:11,426 - src.utils.media_capture - INFO - Media capture initialized: data/media
2025-08-13 10:09:11,426 - src.utils.selector_drift - INFO - Selector drift detector initialized
2025-08-13 10:09:11,717 - src.agents.executor - INFO - Browser initialized: chromium
2025-08-13 10:09:11,717 - src.agents.executor - INFO - Execution agent initialized successfully
2025-08-13 10:09:11,717 - src.utils.media_capture - INFO - Media capture initialized: data/media
2025-08-13 10:09:11,717 - src.utils.selector_drift - INFO - Selector drift detector initialized
2025-08-13 10:09:11,997 - src.agents.executor - INFO - Browser initialized: chromium
2025-08-13 10:09:11,997 - src.agents.executor - INFO - Execution agent initialized successfully
2025-08-13 10:09:11,997 - src.core.ai_provider - INFO - Initializing AI providers...
2025-08-13 10:09:11,998 - src.core.ai_provider - WARNING - Failed to initialize Local LLM: Local LLM connection failed: Cannot connect to host 127.0.0.1:1234 ssl:default [Connect call failed ('127.0.0.1', 1234)]
2025-08-13 10:09:11,998 - src.core.ai_provider - INFO - AI providers initialized. Available: []
2025-08-13 10:09:12,000 - src.core.vector_store - INFO - Collection 'workflow_plans' initialized
2025-08-13 10:09:12,001 - src.core.vector_store - INFO - Collection 'execution_patterns' initialized
2025-08-13 10:09:12,002 - src.core.vector_store - INFO - Collection 'conversations' initialized
2025-08-13 10:09:12,003 - src.core.vector_store - INFO - Collection 'task_templates' initialized
2025-08-13 10:09:12,003 - src.core.vector_store - INFO - Collection 'failure_patterns' initialized
2025-08-13 10:09:12,003 - src.core.vector_store - INFO - Initialized 5 collections
2025-08-13 10:09:12,003 - src.core.vector_store - INFO - Vector store initialized: data/vector_db
2025-08-13 10:09:12,003 - src.core.audit - INFO - Audit logging system initialized: data/audit.db
2025-08-13 10:09:12,004 - src.agents.conversational - INFO - Conversational agent initialized successfully
2025-08-13 10:09:12,004 - src.agents.search - INFO - Search agent initialized successfully
2025-08-13 10:09:12,004 - src.agents.dom_extractor - INFO - DOM extraction agent initialized successfully
2025-08-13 10:09:12,005 - src.core.orchestrator - INFO - Multi-Agent Orchestrator initialized successfully
2025-08-13 10:09:12,005 - root - INFO - API server initialized successfully
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:44486 - "POST /chat HTTP/1.1" 200 OK
2025-08-13 10:13:19,898 - src.agents.executor - INFO - Executing real automation: web_automation for https://www.google.com/travel/flights
2025-08-13 10:13:21,993 - src.agents.executor - INFO - Successfully navigated to: https://www.google.com/travel/flights
2025-08-13 10:13:21,993 - src.agents.executor - INFO - Executing real action 1/3: navigate
2025-08-13 10:13:21,993 - src.utils.media_capture - WARNING - Media libraries not available, using basic capture
2025-08-13 10:13:22,072 - src.agents.executor - INFO - Executing real action 2/3: wait
2025-08-13 10:13:25,074 - src.utils.media_capture - WARNING - Media libraries not available, using basic capture
2025-08-13 10:13:25,137 - src.agents.executor - INFO - Executing real action 3/3: screenshot
2025-08-13 10:13:25,137 - src.utils.media_capture - WARNING - Media libraries not available, using basic capture
2025-08-13 10:13:25,221 - src.utils.media_capture - WARNING - Media libraries not available, using basic capture
INFO:     127.0.0.1:34136 - "POST /automation/execute HTTP/1.1" 200 OK
2025-08-13 10:13:29,932 - src.agents.executor - INFO - Starting ticket booking automation: Delhi to Mumbai on Friday at 6 AM IST
2025-08-13 10:13:31,007 - src.agents.executor - INFO - Successfully navigated to Google Flights
2025-08-13 10:13:31,007 - src.utils.media_capture - WARNING - Media libraries not available, using basic capture
2025-08-13 10:14:01,075 - src.agents.executor - WARNING - https://www.skyscanner.com failed: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://www.skyscanner.com/", waiting until "networkidle"

2025-08-13 10:14:04,489 - src.agents.executor - INFO - Starting ticket booking automation: Delhi to Mumbai on Friday at 6 AM IST
2025-08-13 10:14:05,525 - src.agents.executor - INFO - Successfully navigated to https://www.kayak.com
2025-08-13 10:14:05,526 - src.utils.media_capture - WARNING - Media libraries not available, using basic capture
2025-08-13 10:14:05,527 - src.agents.executor - INFO - Successfully navigated to Google Flights
2025-08-13 10:14:05,527 - src.utils.media_capture - WARNING - Media libraries not available, using basic capture
2025-08-13 10:14:07,606 - root - ERROR - Ticket booking failed: 'str' object has no attribute 'time'
Traceback (most recent call last):
  File "/workspace/src/api/server.py", line 486, in execute_ticket_booking
    "booking_id": f"booking_{int(time.time())}",
                                 ^^^^^^^^^
AttributeError: 'str' object has no attribute 'time'. Did you mean: 'title'?
2025-08-13 10:14:07,606 - root - ERROR - Unhandled exception: 'str' object has no attribute 'time'
Traceback (most recent call last):
  File "/workspace/src/api/server.py", line 486, in execute_ticket_booking
    "booking_id": f"booking_{int(time.time())}",
                                 ^^^^^^^^^
AttributeError: 'str' object has no attribute 'time'. Did you mean: 'title'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspace/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/workspace/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/workspace/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/workspace/venv/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/workspace/venv/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/src/api/server.py", line 495, in execute_ticket_booking
    "booking_id": f"booking_{int(time.time())}",
                                 ^^^^^^^^^
AttributeError: 'str' object has no attribute 'time'. Did you mean: 'title'?
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspace/src/api/server.py", line 486, in execute_ticket_booking
    "booking_id": f"booking_{int(time.time())}",
                                 ^^^^^^^^^
AttributeError: 'str' object has no attribute 'time'. Did you mean: 'title'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspace/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspace/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/workspace/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/workspace/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/workspace/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/workspace/venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/workspace/venv/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/workspace/venv/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/src/api/server.py", line 495, in execute_ticket_booking
    "booking_id": f"booking_{int(time.time())}",
                                 ^^^^^^^^^
AttributeError: 'str' object has no attribute 'time'. Did you mean: 'title'?
2025-08-13 10:14:35,693 - src.agents.executor - WARNING - https://www.skyscanner.com failed: Page.goto: Timeout 30000ms exceeded.
Call log:
  - navigating to "https://www.skyscanner.com/", waiting until "networkidle"

INFO:     127.0.0.1:35328 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:46736 - "GET /health HTTP/1.1" 200 OK
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: write EPIPE
    at afterWriteDispatched (node:internal/stream_base_commons:159:15)
    at writeGeneric (node:internal/stream_base_commons:150:3)
    at Socket._writeGeneric (node:net:966:11)
    at Socket._write (node:net:978:8)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
    at PipeTransport.send (/workspace/venv/lib/python3.13/site-packages/playwright/driver/package/lib/server/utils/pipeTransport.js:52:21)
    at dispatcherConnection.onmessage (/workspace/venv/lib/python3.13/site-packages/playwright/driver/package/lib/cli/driver.js:60:59)
    at DispatcherConnection.sendEvent (/workspace/venv/lib/python3.13/site-packages/playwright/driver/package/lib/server/dispatchers/dispatcher.js:176:10)
Emitted 'error' event on Socket instance at:
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  errno: -32,
  code: 'EPIPE',
  syscall: 'write'
}

Node.js v22.17.0
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: write EPIPE
    at afterWriteDispatched (node:internal/stream_base_commons:159:15)
    at writeGeneric (node:internal/stream_base_commons:150:3)
    at Socket._writeGeneric (node:net:966:11)
    at Socket._write (node:net:978:8)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
    at PipeTransport.send (/workspace/venv/lib/python3.13/site-packages/playwright/driver/package/lib/server/utils/pipeTransport.js:52:21)
    at dispatcherConnection.onmessage (/workspace/venv/lib/python3.13/site-packages/playwright/driver/package/lib/cli/driver.js:60:59)
    at DispatcherConnection.sendEvent (/workspace/venv/lib/python3.13/site-packages/playwright/driver/package/lib/server/dispatchers/dispatcher.js:176:10)
Emitted 'error' event on Socket instance at:
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  errno: -32,
  code: 'EPIPE',
  syscall: 'write'
}
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: write EPIPE
    at afterWriteDispatched (node:internal/stream_base_commons:159:15)
    at writeGeneric (node:internal/stream_base_commons:150:3)
    at Socket._writeGeneric (node:net:966:11)
    at Socket._write (node:net:978:8)
    at writeOrBuffer (node:internal/streams/writable:572:12)
    at _write (node:internal/streams/writable:501:10)
    at Writable.write (node:internal/streams/writable:510:10)
    at PipeTransport.send (/workspace/venv/lib/python3.13/site-packages/playwright/driver/package/lib/server/utils/pipeTransport.js:52:21)
    at dispatcherConnection.onmessage (/workspace/venv/lib/python3.13/site-packages/playwright/driver/package/lib/cli/driver.js:60:59)
    at DispatcherConnection.sendDispose (/workspace/venv/lib/python3.13/site-packages/playwright/driver/package/lib/server/dispatchers/dispatcher.js:187:10)
Emitted 'error' event on Socket instance at:
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  errno: -32,
  code: 'EPIPE',
  syscall: 'write'
}

Node.js v22.17.0

Node.js v22.17.0
